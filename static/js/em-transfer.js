!function(e){function t(n){if(a[n])return a[n].exports;var s=a[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){a(1),e.exports=a(4)},function(e,t,a){function n(e){var t=null,a=e.msg,n=a.data,r=a.useObject,o=a.api,l=a.timespan;n&&n.headers&&(t=n.headers,delete n.headers),s({url:e.url,headers:t,data:e.excludeData?null:n,type:e.type,isFileUpload:e.isFileUpload,success:function(e,t){try{e=JSON.parse(e)}catch(a){}i.send({call:o,timespan:l,status:0,data:e,statusCode:t.status,useObject:r})},error:function(e,t){try{e=JSON.parse(e)}catch(a){}i.send({call:o,timespan:l,status:1,data:e,statusCode:t.status,useObject:r})}})}var s=a(2),r=a(3),i=new r(null,"api");i.listen(function(e){var t,a=e.api,s=e.data||{},r=s.tenantId,o=s.orgName+"%23"+s.appName+"%23"+s.imServiceNumber;switch(i.targetOrigin=e.origin,a){case"getRelevanceList":n({url:"/onlinehelp/v1/webimplugin/targetChannels",type:"GET",msg:e});break;case"getDutyStatus":n({url:"/onlinehelp/v1/webimplugin/showMessage",type:"GET",msg:e});break;case"getWechatVisitor":n({url:"/onlinehelp/v1/webimplugin/visitors/wechat/"+s.openid+"?tenantId="+r,msg:e,type:"POST"});break;case"createVisitor":n({url:"/onlinehelp/v1/webimplugin/visitors?tenantId="+r,msg:e,type:"POST"});break;case"getSession":n({url:"/onlinehelp/v1/webimplugin/visitors/"+s.id+"/schedule-data?techChannelInfo="+o+"&tenantId="+r,msg:e,type:"GET",excludeData:!0});break;case"getExSession":n({url:"/onlinehelp/v1/webimplugin/visitors/"+s.id+"/schedule-data-ex?techChannelInfo="+o+"&tenantId="+r,msg:e,type:"GET",excludeData:!0});break;case"getPassword":n({url:"/onlinehelp/v1/webimplugin/visitors/password",type:"GET",msg:e});break;case"getGroup":n({url:"/onlinehelp/v1/webimplugin/visitors/"+s.id+"/ChatGroupId?techChannelInfo="+o+"&tenantId="+r,msg:e,type:"GET",excludeData:!0});break;case"getGroupNew":n({url:"/onlinehelp/v1/webimplugin/tenant/"+r+"/visitors/"+s.id+"/ChatGroupId?techChannelInfo="+o+"&tenantId="+r,msg:e,type:"GET",excludeData:!0});break;case"getHistory":n({url:"/onlinehelp/v1/webimplugin/visitors/msgHistory",type:"GET",msg:e});break;case"getSlogan":n({url:"/onlinehelp/v1/webimplugin/notice/options",type:"GET",msg:e});break;case"getTheme":n({url:"/onlinehelp/v1/webimplugin/theme/options",type:"GET",msg:e});break;case"getSystemGreeting":n({url:"/onlinehelp/v1/webimplugin/welcome",type:"GET",msg:e});break;case"getRobertGreeting":n({url:"/onlinehelp/v1/Tenants/"+r+"/robots/visitor/greetings/"+s.originType+"?tenantId="+r,msg:e,type:"GET",excludeData:!0});break;case"sendVisitorInfo":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/visitors/"+s.visitorId+"/attributes?tenantId="+r,msg:e,type:"POST"});break;case"getProject":n({url:"/onlinehelp/tenants/"+r+"/projects",type:"GET",msg:e});break;case"createTicket":n({url:"/onlinehelp/tenants/"+r+"/projects/"+s.projectId+"/tickets?tenantId="+r+"&easemob-target-username="+s["easemob-target-username"]+"&easemob-appkey="+s["easemob-appkey"]+"&easemob-username="+s["easemob-username"],msg:e,type:"POST"});break;case"getNoteCategories":n({url:"/onlinehelp/tenants/"+r+"/projects/"+s.projectId+"/categories?tenantId="+r+"&easemob-target-username="+s["easemob-target-username"]+"&easemob-appkey="+s["easemob-appkey"]+"&easemob-username="+s["easemob-username"],msg:e,type:"GET",excludeData:!0});break;case"receiveMsgChannel":n({url:"/onlinehelp/v1/imgateway/messages",type:"GET",msg:e});break;case"sendMsgChannel":n({url:"/onlinehelp/v1/imgateway/messages?tenantId="+r,msg:e,type:"POST"});break;case"getAgentStatus":if(!s.token)return void console.error("token does not exist.");n({url:"/onlinehelp/v1/tenants/"+r+"/agents/"+s.agentUserId+"/agentstate",type:"GET",msg:e});break;case"getNickNameOption":n({url:"/onlinehelp/v1/webimplugin/agentnicename/options?tenantId="+r,msg:e,type:"GET",excludeData:!0});break;case"reportEvent":n({url:"/onlinehelp/v1/event_collector/events",msg:e,type:"POST"});break;case"deleteEvent":n({url:"/onlinehelp/v1/event_collector/event/"+encodeURIComponent(s.userId),msg:e,type:"DELETE",excludeData:!0});break;case"mediaStreamUpdateStatus":t="/onlinehelp/v1/rtcmedia/media_streams/"+s.streamId,delete s.streamId,n({url:t,msg:e,type:"PUT"});break;case"graylist":n({url:"/onlinehelp/management/graylist",msg:e,type:"GET",excludeData:!0});break;case"getCurrentServiceSession":n({url:"/onlinehelp/v1/webimplugin/tenant/"+r+"/visitors/"+s.id+"/CurrentServiceSession?techChannelInfo="+o+"&tenantId="+r,msg:e,type:"GET",excludeData:!0});break;case"messagePredict":t="/onlinehelp/v1/webimplugin/agents/"+s.agentId+"/messagePredict?tenantId="+s.tenantId,delete s.tenantId,delete s.agentId,n({url:t,msg:e,type:"POST"});break;case"getSessionQueueId":t="/onlinehelp/v1/visitors/"+s.visitorUsername+"/waitings/sessions",delete s.visitorUsername,n({url:t,msg:e,type:"GET"});break;case"getWaitListNumber":n({url:"/onlinehelp/v1/visitors/waitings/data",msg:e,type:"GET"});break;case"getDutyStatus_2":n({url:"/onlinehelp/v1/webimplugin/tenants/show-message",type:"GET",msg:e});break;case"getRobertGreeting_2":n({url:"/onlinehelp/v1/webimplugin/tenants/robots/welcome",type:"GET",msg:e});break;case"getSkillgroupMenu":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/skillgroup-menu",type:"GET",msg:e,excludeData:!0});break;case"getAgentInputState":n({url:"/onlinehelp/v1/webimplugin/sessions/"+s.serviceSessionId+"/agent-input-state?tenantId="+r+"&orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.username+"&token="+s.token,msg:e,type:"GET",excludeData:!0});break;case"closeServiceSession":t="/onlinehelp/webimplugin/tenants/"+r+"/visitors/"+s.userName+"/servicesessions/"+s.serviceSessionId+"/stop?tenantId="+r,delete s.serviceSessionId,n({url:t,msg:e,type:"POST"});break;case"uploadImgMsgChannel":n({url:"/onlinehelp/v1/Tenant/"+r+"/"+s.orgName+"/"+s.appName+"/"+s.userName+"/MediaFiles",msg:e,isFileUpload:!0,type:"POST"});break;case"getVisitorInfo":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/visitors?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token+"&techChannelInfo="+o,msg:e,type:"GET",excludeData:!0});break;case"getOfficalAccounts":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/visitors/"+s.visitorId+"/official-accounts?page=0&size=100&orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,msg:e,type:"GET",excludeData:!0});break;case"getOfficalAccountMessage":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/visitors/"+s.visitorId+"/official-accounts/"+s.officialAccountId+"/messages?size="+s.size+(s.startId?"&startId="+s.startId:"")+"&direction="+s.direction+"&orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,msg:e,type:"GET",excludeData:!0});break;case"getConfig":n({url:"/onlinehelp/v1/webimplugin/settings/visitors/configs/"+s.configId,msg:e,type:"GET",excludeData:!0});break;case"getRobertIsOpen":n({url:"/onlinehelp/v1/webimplugin/tenants/robot-ready",type:"GET",msg:e});break;case"getExSession_2":n({url:"/onlinehelp/v1/webimplugin/visitors/"+s.username+"/schedule-data-ex2?techChannelInfo="+o+"&channelType="+s.channelType+"&originType="+s.originType+"&channelId="+s.channelId+"&queueName="+s.queueName+"&agentUsername="+s.agentUsername+"&tenantId="+r,msg:e,type:"GET",excludeData:!0});break;case"getLastSession":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/visitors/"+s.visitorId+"/official-accounts/"+s.officialAccountId+"/latest-session?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token+"&techChannelInfo="+o,msg:e,type:"GET",excludeData:!0});break;case"reportVisitorAttributes":t="/onlinehelp/v1/webimplugin/tenants/"+r+"/sessions/"+s.sessionId+"/attributes?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token+"&techChannelInfo="+o,delete s.tenantId,delete s.sessionId,delete s.orgName,delete s.appName,delete s.userName,delete s.token,delete s.imServiceNumber,n({url:t,msg:e,type:"POST"});break;case"messagePredict_2":t="/onlinehelp/v1/webimplugin/servicesessions/"+s.sessionId+"/messagePredict?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token+"&techChannelInfo="+o,delete s.sessionId,delete s.orgName,delete s.appName,delete s.userName,delete s.token,delete s.imServiceNumber,n({url:t,msg:e,type:"POST"});break;case"reportMarketingTaskDelivered":t="/onlinehelp/v1/webimplugin/tenants/"+r+"/marketing-tasks/"+s.marketingTaskId+"/delivered?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,delete s.tenantId,delete s.marketingTaskId,delete s.orgName,delete s.appName,delete s.userName,delete s.token,n({url:t,msg:e,type:"PUT"});break;case"reportMarketingTaskOpened":t="/onlinehelp/v1/webimplugin/tenants/"+r+"/marketing-tasks/"+s.marketingTaskId+"/opened?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,delete s.tenantId,delete s.marketingTaskId,delete s.orgName,delete s.appName,delete s.userName,delete s.token,n({url:t,msg:e,type:"PUT"});break;case"reportMarketingTaskReplied":t="/onlinehelp/v1/webimplugin/tenants/"+r+"/marketing-tasks/"+s.marketingTaskId+"/replied?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,delete s.tenantId,delete s.marketingTaskId,delete s.orgName,delete s.appName,delete s.userName,delete s.token,n({url:t,msg:e,type:"PUT"});break;case"getLatestMarketingTask":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/official-accounts/"+s.officialAccountId+"/marketing-tasks?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,msg:e,type:"GET",excludeData:!0});break;case"getEvaluationDegrees":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/evaluationdegrees?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,msg:e,type:"GET",excludeData:!0});break;case"getAppraiseTags":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/evaluationdegrees/"+s.evaluateId+"/appraisetags?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,msg:e,type:"GET",excludeData:!0});break;case"grayScale":n({url:"/onlinehelp/v1/grayscale/tenants/"+r,msg:e,type:"GET",excludeData:!0});break;case"getCustomEmojiPackages":n({url:"/onlinehelp/v1/webimplugin/emoj/tenants/"+r+"/packages",msg:e,type:"GET",excludeData:!0});break;case"getCustomEmojiFiles":n({url:"/onlinehelp/v1/webimplugin/emoj/tenants/"+r+"/files",msg:e,type:"GET",excludeData:!0});break;case"getSatisfactionTipWord":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/options/GreetingMsgEnquiryInvite",type:"GET",msg:e,excludeData:!0});break;case"getPassword2":n({url:"/onlinehelp/v1/webimplugin/visitors/password2?userId="+s.userId+"&orgName="+s.orgName+"&appName="+s.appName+"&imServiceNumber="+s.imServiceNumber,type:"GET",msg:e,excludeData:!0});break;case"updateCustomerInfo":t="/onlinehelp/v1/tenants/"+r+"/visitors/"+s.visitorId+"/customer-info?orgName="+s.orgName+"&appName="+s.appName+"&userName="+s.userName+"&token="+s.token,delete s.tenantId,delete s.visitorId,delete s.orgName,delete s.appName,delete s.userName,delete s.token,n({url:t,msg:e,type:"put"});break;case"getArticleJson":n({url:"/onlinehelp/v1/webimplugin/tenants/"+r+"/robot/news/"+s.media_id,type:"GET",msg:e});break;case"getGuessList":t="/onlinehelp/v1/webimplugin/tenants/"+s.tenantId+"/servicesessions/"+s.sessionId+"/standard_suggestion/questions?input="+s.inputValue+"&robotId="+s.robotId,delete s.tenantId,delete s.sessionId,delete s.inputValue,delete s.robotId,n({url:t,type:"GET",msg:e});break;default:console.error("unexpect api name: "+a)}},["data"])},function(e,t){var a=function(){},n=function(){try{return new window.XMLHttpRequest}catch(e){return!1}},s=function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}};e.exports=function(e){function t(){var e;if(4===g.readyState){if(200===g.status){if("text"===l)return void p(g.responseText,g);if("json"===l){try{e=JSON.parse(g.responseText),p(e,g)}catch(t){}return}return void p(g.response||g.responseText,g)}if("json"==l){try{e=JSON.parse(g.responseText),u(e,g,"error response.")}catch(t){u(g.responseText,g,"JSON parse error.")}return}u(g.responseText,g,"error response.")}else 0===g.readyState&&u(g.responseText,g,"unexpected server error.")}var r,i,o,l=e.dataType||"text",p=e.success||a,u=e.error||a,m=e.useXDomainRequestInIE,g=n()||s(),c=e.type||"GET",d=e.data||{},b="",h=e.headers||{},k=e.isFileUpload,v=e.disableTimeStampInGet;if(m&&window.XDomainRequest)return g=new XDomainRequest,g.onload=function(){var e={};try{e=JSON.parse(g.responseText)}catch(t){}p(e,g)},g.ontimeout=function(){u(g.responseText,g,"XDomainRequest timeout.")},g.onerror=function(){u(g.responseText,g,"XDomainRequest error.")},g.open("POST",e.url),g.send(JSON.stringify(d)),g;if(g.onreadystatechange=t,"get"===c.toLowerCase()){for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(b+=o+"="+d[o]+"&");b=b?b.slice(0,-1):b,e.url+=(e.url.indexOf("?")>0?"&":"?")+(b?b+"&":b)+(v?"":"_v="+(new Date).getTime())}else{if(k)return i=new FormData,i.append("file",d.file),g.open("POST",e.url),g.setRequestHeader("Authorization",d.auth),g.send(i),g;d=JSON.stringify(d)}if(g.open(c,e.url),g.setRequestHeader){h["Content-Type"]=h["Content-Type"]||"application/json";for(r in h)Object.prototype.hasOwnProperty.call(h,r)&&g.setRequestHeader(r,h[r])}return g.send(d),g}},function(e,t){function a(e,t,a){var n,s,r,i=!1,o=e.data;if("object"==typeof o)n=o;else if("string"==typeof o){try{n=JSON.parse(o)}catch(l){}if("object"!=typeof n)return}if(a&&a.length)for(s=0,r=a.length;s<r;s++)n.key===a[s]&&(i=!0,"function"==typeof t&&t(n));else"function"==typeof t&&t(n);if(!i&&a)for(s=0,r=a.length;s<r;s++)if("data"===a[s]){"function"==typeof t&&t(n);break}}var n=function(){var e=!0;try{window.postMessage({toString:function(){e=!1}},"*")}catch(t){}return e}(),s=function(e,t,a){return this instanceof s?(this.key=t,this.iframe=document.getElementById(e),this.origin=location.protocol+"//"+location.host,void(this.useObject=a)):new s(e)};s.prototype.send=function(e,t){return e.origin=this.origin,e.key=this.key,this.to?e.to=this.to:t&&(e.to=t),n&&(this.useObject||e.useObject)||(e=JSON.stringify(e)),this.iframe?this.iframe.contentWindow.postMessage(e,"*"):window.parent.postMessage(e,"*"),this},s.prototype.listen=function(e,t){var n=this;return window.addEventListener?window.addEventListener("message",function(s){a.call(n,s,e,t)},!1):window.attachEvent&&window.attachEvent("onmessage",function(s){a.call(n,s,e,t)}),this},e.exports=s},function(e,t,a){e.exports=a.p+"../../transfer.html"}]);